# NOVA Design System - Guide d'utilisation

## Table des mati√®res

1. [Introduction](#introduction)
2. [Installation et Configuration](#installation-et-configuration)
3. [Tokens de Design](#tokens-de-design)
4. [Composants](#composants)
5. [Layout RDV](#layout-rdv)
6. [Accessibilit√©](#accessibilit√©)
7. [Performance](#performance)
8. [Tests](#tests)
9. [Migration](#migration)
10. [FAQ](#faq)

## Introduction

Le design system NOVA est con√ßu sp√©cifiquement pour les applications m√©dicales professionnelles avec un focus particulier sur :

- **Accessibilit√© WCAG 2.2 AA** : Conformit√© compl√®te pour tous les utilisateurs
- **Performance** : Optimis√© pour des interactions fluides
- **Langue fran√ßaise** : Interface et contenu en fran√ßais par d√©faut
- **Responsive design** : Adapt√© mobile, tablet et desktop
- **Contexte m√©dical** : Couleurs et interactions adapt√©es au secteur de la sant√©

### Valeurs fondamentales

- **Inclusivit√©** : Accessible √† tous les utilisateurs, y compris ceux utilisant des technologies d'assistance
- **Fiabilit√©** : Composants test√©s et robustes pour un environnement m√©dical critique
- **Clart√©** : Interface claire et sans ambigu√Øt√© pour r√©duire les erreurs
- **Efficacit√©** : Interactions optimis√©es pour les professionnels de sant√©

## Installation et Configuration

### Installation

```bash
# Installation via npm
npm install @nova/design-system

# Ou via yarn
yarn add @nova/design-system
```

### Configuration CSS

Importez les tokens CSS dans votre fichier principal :

```css
/* styles/globals.css */
@import '@nova/design-system/tokens.css';
@import '@nova/design-system/components.css';

/* Configuration personnalis√©e */
:root {
  --nova-font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
  --nova-locale: 'fr-FR';
}
```

### Configuration TypeScript

```typescript
// types/nova.d.ts
declare module '@nova/design-system' {
  export * from '@nova/design-system/types';
}

// Configuration dans tsconfig.json
{
  "compilerOptions": {
    "paths": {
      "@nova/*": ["./node_modules/@nova/design-system/*"]
    }
  }
}
```

### Configuration Next.js

```typescript
// next.config.js
module.exports = {
  // Optimisation pour les composants NOVA
  experimental: {
    optimizeCss: true,
  },
  // Support des tokens CSS
  transpilePackages: ['@nova/design-system'],
}
```

## Tokens de Design

### Couleurs primaires

Le syst√®me de couleurs NOVA est con√ßu pour respecter les contrastes WCAG 2.2 AA dans le contexte m√©dical :

```css
/* Couleurs principales */
--primary-50: #eff6ff;
--primary-100: #dbeafe;
--primary-200: #bfdbfe;
--primary-300: #93c5fd;
--primary-400: #60a5fa;
--primary-500: #3b82f6;
--primary-600: #2563eb;  /* Couleur principale */
--primary-700: #1d4ed8;
--primary-800: #1e40af;
--primary-900: #1e3a8a;

/* Utilisation recommand√©e */
.button-primary {
  background-color: var(--primary-600);
  color: var(--primary-foreground);
}
```

### Couleurs s√©mantiques

```css
/* Succ√®s - pour confirmations et validations */
--success-600: #10b981;
--success-foreground: #ffffff;

/* Avertissement - pour alertes importantes */
--warning-600: #f59e0b;
--warning-foreground: #000000;

/* Erreur - pour erreurs et suppressions */
--error-600: #ef4444;
--error-foreground: #ffffff;

/* Secondaire - pour actions secondaires */
--secondary-600: #6b7280;
--secondary-foreground: #ffffff;
```

### Couleurs neutres

```css
/* √âchelle de gris pour textes et arri√®re-plans */
--neutral-50: #f9fafb;
--neutral-100: #f3f4f6;
--neutral-200: #e5e7eb;
--neutral-300: #d1d5db;
--neutral-400: #9ca3af;
--neutral-500: #6b7280;
--neutral-600: #4b5563;
--neutral-700: #374151;
--neutral-800: #1f2937;
--neutral-900: #111827;
```

### Espacement

```css
/* Syst√®me d'espacement bas√© sur 4px */
--spacing-1: 0.25rem;  /* 4px */
--spacing-2: 0.5rem;   /* 8px */
--spacing-3: 0.75rem;  /* 12px */
--spacing-4: 1rem;     /* 16px */
--spacing-5: 1.25rem;  /* 20px */
--spacing-6: 1.5rem;   /* 24px */
--spacing-8: 2rem;     /* 32px */
--spacing-10: 2.5rem;  /* 40px */
--spacing-12: 3rem;    /* 48px */
```

### Typographie

```css
/* Tailles de police */
--text-xs: 0.75rem;    /* 12px */
--text-sm: 0.875rem;   /* 14px */
--text-base: 1rem;     /* 16px */
--text-lg: 1.125rem;   /* 18px */
--text-xl: 1.25rem;    /* 20px */
--text-2xl: 1.5rem;    /* 24px */
--text-3xl: 1.875rem;  /* 30px */

/* Hauteurs de ligne */
--leading-tight: 1.25;
--leading-normal: 1.5;
--leading-relaxed: 1.75;

/* Poids de police */
--font-normal: 400;
--font-medium: 500;
--font-semibold: 600;
--font-bold: 700;
```

### Bordures et rayons

```css
/* Rayons de bordure m√©dicaux */
--radius-medical-small: 6px;   /* √âl√©ments petits */
--radius-medical-medium: 8px;  /* Boutons, inputs */
--radius-medical-large: 12px;  /* Cartes, modales */

/* Bordures */
--border-width: 1px;
--border-color: var(--neutral-200);
--border-color-focus: var(--primary-600);
```

### Ombres

```css
/* Ombres subtiles pour le contexte m√©dical */
--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
--shadow-primary: 0 4px 14px 0 rgba(37, 99, 235, 0.2);
```

### Cibles tactiles

```css
/* Tailles minimales pour l'accessibilit√© */
--touch-target-ios: 44px;      /* iOS guidelines */
--touch-target-android: 48px;  /* Android guidelines */
--touch-target-web: 44px;      /* WCAG 2.2 AA */
```

## Composants

### Button (Bouton)

Le composant Button est la base de toutes les interactions dans NOVA.

#### Utilisation de base

```tsx
import { Button } from '@nova/design-system';

// Bouton principal
<Button variant="primary">
  Prendre rendez-vous
</Button>

// Bouton secondaire
<Button variant="secondary">
  Annuler
</Button>

// Bouton de validation
<Button variant="success">
  Confirmer
</Button>

// Bouton d'avertissement
<Button variant="warning">
  Attention
</Button>

// Bouton de suppression
<Button variant="destructive">
  Supprimer
</Button>

// Bouton discret
<Button variant="quiet">
  Options
</Button>
```

#### Tailles

```tsx
// Petit bouton
<Button size="sm">Petit</Button>

// Bouton moyen (par d√©faut)
<Button size="md">Moyen</Button>

// Grand bouton
<Button size="lg">Grand</Button>
```

#### √âtats

```tsx
// √âtat de chargement
<Button loading>
  Enregistrement...
</Button>

// Bouton d√©sactiv√©
<Button disabled>
  Non disponible
</Button>

// Avec ic√¥ne
<Button 
  icon={<Calendar />} 
  iconPosition="left"
>
  Planifier
</Button>

// Pleine largeur
<Button fullWidth>
  Continuer
</Button>
```

#### Props compl√®tes

```typescript
interface ButtonProps {
  /** Variante visuelle */
  variant?: 'primary' | 'secondary' | 'success' | 'warning' | 'destructive' | 'quiet';
  
  /** Taille du bouton */
  size?: 'sm' | 'md' | 'lg';
  
  /** √âtat de chargement */
  loading?: boolean;
  
  /** Ic√¥ne √† afficher */
  icon?: React.ReactNode;
  
  /** Position de l'ic√¥ne */
  iconPosition?: 'left' | 'right';
  
  /** Pleine largeur */
  fullWidth?: boolean;
  
  /** Texte de chargement personnalis√© */
  loadingText?: string;
  
  /** Effet de pression */
  pressEffect?: 'scale' | 'opacity' | 'none';
  
  /** Props HTML standard */
  onClick?: () => void;
  disabled?: boolean;
  type?: 'button' | 'submit' | 'reset';
  className?: string;
  children?: React.ReactNode;
}
```

#### Exemples d'usage m√©dical

```tsx
// Prise de rendez-vous
<Button variant="primary" size="lg" fullWidth>
  Confirmer le rendez-vous
</Button>

// Action d'urgence
<Button variant="destructive" size="lg">
  üö® Urgence
</Button>

// Validation d'informations patient
<Button 
  variant="success" 
  loading={isSaving}
  loadingText="Enregistrement..."
>
  Sauvegarder les informations
</Button>

// Navigation dans le dossier
<Button 
  variant="quiet" 
  icon={<ArrowLeft />}
  iconPosition="left"
>
  Retour au dossier
</Button>
```

### ChatRDV (Chat Assistant)

Composant de chat intelligent pour la prise de rendez-vous.

#### Utilisation

```tsx
import { ChatRDV } from '@nova/design-system';

<ChatRDV 
  onAppointmentSelect={(appointment) => {
    console.log('Rendez-vous s√©lectionn√©:', appointment);
  }}
  onMessageSend={(message) => {
    console.log('Message envoy√©:', message);
  }}
/>
```

#### Props

```typescript
interface ChatRDVProps {
  /** Callback lors de la s√©lection d'un rendez-vous */
  onAppointmentSelect?: (appointment: AppointmentData) => void;
  
  /** Callback lors de l'envoi d'un message */
  onMessageSend?: (message: string) => void;
  
  /** Messages initiaux */
  initialMessages?: Message[];
  
  /** Configuration du bot */
  botConfig?: {
    name: string;
    avatar?: string;
    welcomeMessage?: string;
  };
  
  /** Classe CSS personnalis√©e */
  className?: string;
}
```

#### Fonctionnalit√©s

- **Messages temps r√©el** avec live regions pour l'accessibilit√©
- **Actions rapides** pour s√©lectionner des cr√©neaux
- **Indicateur de frappe** avec annonce pour les lecteurs d'√©cran
- **Historique de conversation** persistant
- **Validation automatique** des informations patient
- **Support multilingue** (fran√ßais par d√©faut)

### RDVLayout (Layout 3 zones)

Layout responsive sp√©cialis√© pour la prise de rendez-vous.

#### Structure

```tsx
import { RDVLayout } from '@nova/design-system';

<RDVLayout
  leftPanel={<PatientContext />}
  centerPanel={<CalendarView />}
  rightPanel={<ChatRDV />}
/>
```

#### Responsivit√©

- **Mobile (< 768px)** : Layout vertical empil√©
- **Tablet (768px - 1024px)** : Layout 2 colonnes
- **Desktop (> 1024px)** : Layout 3 colonnes avec panneau chat sticky

#### Props

```typescript
interface RDVLayoutProps {
  /** Panneau gauche (contexte patient) */
  leftPanel: React.ReactNode;
  
  /** Panneau central (calendrier) */
  centerPanel: React.ReactNode;
  
  /** Panneau droit (chat) */
  rightPanel: React.ReactNode;
  
  /** Configuration responsive */
  breakpoints?: {
    tablet: number;
    desktop: number;
  };
  
  /** Classes CSS personnalis√©es */
  className?: string;
}
```

### FormInput (Champ de saisie)

Composant d'input avec validation int√©gr√©e pour le contexte m√©dical.

```tsx
import { FormInput } from '@nova/design-system';

<FormInput
  label="Nom du patient"
  name="patientName"
  required
  placeholder="Saisir le nom complet"
  validation={{
    pattern: /^[a-zA-Z√Ä-√ø\s-']{2,50}$/,
    message: "Le nom doit contenir uniquement des lettres (2-50 caract√®res)"
  }}
/>

<FormInput
  label="Num√©ro de t√©l√©phone"
  name="phone"
  type="tel"
  required
  placeholder="+213 5XX XXX XXX"
  validation={{
    pattern: /^\+213[567]\d{8}$/,
    message: "Format requis : +213XXXXXXXXX"
  }}
/>
```

### DatePicker (S√©lecteur de date)

Calendrier accessible pour la s√©lection de dates.

```tsx
import { DatePicker } from '@nova/design-system';

<DatePicker
  label="Date du rendez-vous"
  value={selectedDate}
  onChange={setSelectedDate}
  minDate={new Date()}
  locale="fr-FR"
  timezone="Africa/Algiers"
  disabledDates={[
    // Weekends
    { daysOfWeek: [0, 6] },
    // Holidays
    { date: '2025-01-01' },
    { date: '2025-05-01' }
  ]}
/>
```

## Layout RDV

### Architecture 3 zones

Le layout RDV est con√ßu selon une architecture 3 zones optimis√©e pour la prise de rendez-vous :

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Header Navigation                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ               ‚îÇ                         ‚îÇ                   ‚îÇ
‚îÇ  Patient      ‚îÇ    Calendar &           ‚îÇ   Chat Assistant  ‚îÇ
‚îÇ  Context      ‚îÇ    Time Slots           ‚îÇ                   ‚îÇ
‚îÇ               ‚îÇ                         ‚îÇ                   ‚îÇ
‚îÇ  - Info       ‚îÇ  - Monthly view         ‚îÇ  - Live chat      ‚îÇ
‚îÇ  - History    ‚îÇ  - Available slots      ‚îÇ  - Quick actions  ‚îÇ
‚îÇ  - Notes      ‚îÇ  - Selection state      ‚îÇ  - Confirmations  ‚îÇ
‚îÇ               ‚îÇ                         ‚îÇ                   ‚îÇ
‚îÇ               ‚îÇ                         ‚îÇ  (Sticky panel)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Zone gauche : Contexte Patient (320px)

- **Informations patient** : Nom, √¢ge, historique
- **Pr√©f√©rences** : Type de consultation, cr√©neaux pr√©f√©r√©s
- **Historique RDV** : Derniers rendez-vous
- **Notes importantes** : Allergies, traitements en cours

### Zone centrale : Calendrier (Flexible)

- **Vue mensuelle** avec navigation
- **Cr√©neaux disponibles** par jour
- **S√©lection interactive** avec feedback visuel
- **Filtres** par type de consultation
- **Indications de dur√©e** et disponibilit√©

### Zone droite : Chat Assistant (400px)

- **Chat en temps r√©el** avec l'IA
- **Actions rapides** pour confirmer
- **Sticky positioning** sur desktop
- **Responsive** : se replie sur mobile

### Responsive Behavior

#### Mobile (< 768px)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      Header         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Patient Context   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ      Calendar       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Chat (Overlay)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### Tablet (768px - 1024px)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            Header             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Patient +  ‚îÇ      Chat       ‚îÇ
‚îÇ  Calendar   ‚îÇ   (Sidebar)     ‚îÇ
‚îÇ             ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### Desktop (> 1024px)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                Header                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Patient ‚îÇ    Calendar     ‚îÇ    Chat     ‚îÇ
‚îÇ Context ‚îÇ                 ‚îÇ  (Sticky)   ‚îÇ
‚îÇ         ‚îÇ                 ‚îÇ             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## Accessibilit√©

### Standards WCAG 2.2 AA

NOVA respecte int√©gralement les crit√®res WCAG 2.2 AA :

#### Contraste de couleurs (4.5:1 minimum)

```css
/* Exemples de contrastes valid√©s */
.text-on-primary {
  background: #2563eb; /* primary-600 */
  color: #ffffff;      /* Contraste 7.2:1 ‚úÖ */
}

.text-on-secondary {
  background: #6b7280; /* secondary-600 */
  color: #ffffff;      /* Contraste 4.7:1 ‚úÖ */
}

.error-message {
  background: #fef2f2; /* error-50 */
  color: #dc2626;      /* error-600 - Contraste 7.8:1 ‚úÖ */
}
```

#### Cibles tactiles (44px minimum)

```css
/* Tous les √©l√©ments interactifs respectent la taille minimale */
.button {
  min-height: var(--touch-target-web); /* 44px */
  min-width: var(--touch-target-web);  /* 44px */
}

.touch-target {
  padding: 12px 16px; /* Assure une zone tactile suffisante */
}
```

#### Navigation clavier

```tsx
// Exemple d'impl√©mentation
const Button = ({ children, onClick, ...props }) => {
  const handleKeyDown = (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      onClick?.();
    }
  };

  return (
    <button
      onClick={onClick}
      onKeyDown={handleKeyDown}
      className="focus-visible:ring-2 focus-visible:ring-primary-600"
      {...props}
    >
      {children}
    </button>
  );
};
```

#### Live regions pour annonces

```tsx
// Chat avec annonces automatiques
<div 
  role="log" 
  aria-live="polite" 
  aria-label="Messages du chat"
>
  {messages.map(message => (
    <div key={message.id}>
      {message.content}
    </div>
  ))}
</div>

// Indicateur de frappe
<div 
  aria-live="polite"
  aria-label="L'assistant tape une r√©ponse"
>
  <TypingIndicator />
</div>
```

#### Gestion du focus

```tsx
// Focus trap pour modales
import { FocusTrap } from '@nova/design-system';

<FocusTrap active={isModalOpen}>
  <Modal>
    <h2>Confirmer le rendez-vous</h2>
    <Button onClick={confirm}>Confirmer</Button>
    <Button onClick={cancel}>Annuler</Button>
  </Modal>
</FocusTrap>
```

### Support des technologies d'assistance

#### Lecteurs d'√©cran

- **NVDA** : Support complet test√©
- **JAWS** : Compatible
- **VoiceOver** : Support macOS et iOS
- **TalkBack** : Support Android

#### Navigation alternative

- **Navigation clavier** : Tab, Shift+Tab, fl√®ches, Entr√©e, Espace
- **Raccourcis clavier** : Ctrl+M (menu), Ctrl+S (sauvegarder)
- **Liens d'√©vitement** : "Aller au contenu principal"

#### Annonces contextuelles

```tsx
// Annonces automatiques des changements d'√©tat
const useAnnouncements = () => {
  const announce = (message: string) => {
    const announcer = document.createElement('div');
    announcer.setAttribute('aria-live', 'assertive');
    announcer.setAttribute('aria-atomic', 'true');
    announcer.className = 'sr-only';
    announcer.textContent = message;
    
    document.body.appendChild(announcer);
    setTimeout(() => document.body.removeChild(announcer), 1000);
  };

  return { announce };
};

// Usage
const { announce } = useAnnouncements();

const handleAppointmentConfirm = () => {
  // ... logique de confirmation
  announce('Rendez-vous confirm√© pour le 15 janvier √† 14h00');
};
```

### Tests d'accessibilit√©

#### Tests automatis√©s

```typescript
// Tests avec jest-axe
import { axe } from 'jest-axe';

test('Button has no accessibility violations', async () => {
  const { container } = render(<Button>Test</Button>);
  const results = await axe(container);
  expect(results).toHaveNoViolations();
});
```

#### Tests manuels

1. **Navigation clavier** : Parcourir l'interface uniquement au clavier
2. **Lecteur d'√©cran** : Tester avec NVDA ou VoiceOver
3. **Zoom 200%** : Interface utilisable √† 200% de zoom
4. **Contraste √©lev√©** : Mode contraste √©lev√© Windows/macOS

## Performance

### Optimisations de rendu

#### Code splitting

```typescript
// Lazy loading des composants lourds
const CalendarView = lazy(() => import('./CalendarView'));
const ChatWidget = lazy(() => import('./ChatWidget'));

// Usage avec Suspense
<Suspense fallback={<LoadingSkeleton />}>
  <CalendarView />
</Suspense>
```

#### Virtualisation des listes

```tsx
// Pour les grandes listes de cr√©neaux
import { FixedSizeList as List } from 'react-window';

const TimeSlotsList = ({ slots }) => (
  <List
    height={400}
    itemCount={slots.length}
    itemSize={60}
    itemData={slots}
  >
    {({ index, style, data }) => (
      <div style={style}>
        <TimeSlot slot={data[index]} />
      </div>
    )}
  </List>
);
```

#### Memoisation

```tsx
// M√©morisation des composants co√ªteux
const ExpensiveCalendar = memo(({ date, slots }) => {
  const computedSlots = useMemo(() => 
    slots.filter(slot => slot.date === date)
  , [date, slots]);

  return <Calendar slots={computedSlots} />;
});
```

### Bundle optimization

#### Tree shaking

```typescript
// Import s√©lectif pour r√©duire la taille du bundle
import { Button } from '@nova/design-system/button';
import { ChatRDV } from '@nova/design-system/chat';

// √âviter l'import complet
// import * from '@nova/design-system'; ‚ùå
```

#### Compression des assets

```javascript
// next.config.js
module.exports = {
  compress: true,
  images: {
    formats: ['image/webp', 'image/avif'],
    minimumCacheTTL: 60,
  },
  experimental: {
    optimizeCss: true,
  }
};
```

### M√©triques de performance

#### Core Web Vitals cibles

- **LCP (Largest Contentful Paint)** : < 2.5s
- **FID (First Input Delay)** : < 100ms
- **CLS (Cumulative Layout Shift)** : < 0.1
- **FCP (First Contentful Paint)** : < 1.8s

#### Monitoring

```typescript
// Mesure des performances
const measurePerformance = (name: string, fn: Function) => {
  const start = performance.now();
  const result = fn();
  const end = performance.now();
  
  console.log(`${name}: ${end - start}ms`);
  
  // Envoi √† votre service de monitoring
  analytics.track('performance', {
    metric: name,
    duration: end - start,
    timestamp: Date.now()
  });
  
  return result;
};
```

## Tests

### Suite de tests compl√®te

#### Tests unitaires (Vitest)

```bash
# Ex√©cuter les tests unitaires
npm run test:unit

# Tests avec couverture
npm run test:coverage

# Tests en mode watch
npm run test:watch
```

#### Tests d'int√©gration

```bash
# Tests d'int√©gration des flows
npm run test:integration

# Tests sp√©cifiques RDV
npm run test:rdv-flow
```

#### Tests E2E (Playwright)

```bash
# Tests end-to-end
npm run test:e2e

# Tests E2E sur mobile
npm run test:e2e:mobile

# Tests avec UI
npm run test:e2e:ui
```

#### Tests d'accessibilit√©

```bash
# Tests accessibilit√© automatis√©s
npm run test:a11y

# Tests axe-core
npm run test:axe

# Lighthouse CI
npm run lighthouse:ci
```

### Configuration de test

#### jest.config.js

```javascript
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'jsdom',
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  moduleNameMapper: {
    '^@nova/(.*)$': '<rootDir>/src/components/$1',
  },
  collectCoverageFrom: [
    'src/components/**/*.{ts,tsx}',
    '!src/components/**/*.stories.tsx',
  ],
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
  },
};
```

#### Playwright configuration

```typescript
// playwright.config.ts
export default defineConfig({
  testDir: './src/test/e2e',
  use: {
    baseURL: 'http://localhost:3000',
    locale: 'fr-FR',
    timezoneId: 'Africa/Algiers',
  },
  projects: [
    { name: 'chromium' },
    { name: 'firefox' },
    { name: 'webkit' },
    { name: 'Mobile Chrome' },
    { name: 'Mobile Safari' },
  ],
});
```

### Tests sp√©cifiques NOVA

#### Test du flow RDV complet

```typescript
test('complete RDV booking flow', async ({ page }) => {
  await page.goto('/rdv');
  
  // S√©lectionner une date
  await page.click('text=15 janvier');
  
  // S√©lectionner un cr√©neau
  await page.click('[data-testid="slot-14:00"]');
  
  // Interaction chat
  await page.fill('[placeholder*="message"]', 'Je confirme ce cr√©neau');
  await page.click('text=Envoyer');
  
  // Confirmation
  await page.click('text=Confirmer le rendez-vous');
  
  // V√©rification
  await expect(page.locator('text=Rendez-vous confirm√©')).toBeVisible();
});
```

#### Test d'accessibilit√©

```typescript
test('RDV page meets WCAG 2.2 AA', async ({ page }) => {
  await page.goto('/rdv');
  
  const accessibilityResults = await new AxeBuilder({ page })
    .withTags(['wcag2a', 'wcag2aa', 'wcag22aa'])
    .analyze();
  
  expect(accessibilityResults.violations).toEqual([]);
});
```

## Migration

### Migration depuis v1.x

#### Changements majeurs

1. **Tokens CSS** : Migration vers CSS variables
2. **Composants** : Nouvelles props d'accessibilit√©
3. **Layout** : Nouveau syst√®me de grille responsive
4. **Couleurs** : Palette √©tendue avec variantes s√©mantiques

#### Script de migration automatique

```bash
# Installation de l'outil de migration
npm install -g @nova/migration-tool

# Ex√©cution de la migration
nova-migrate --from=1.x --to=2.x --path=./src
```

#### Migration manuelle

##### 1. Tokens CSS

```css
/* Avant (v1.x) */
.button-primary {
  background-color: #3b82f6;
  color: white;
}

/* Apr√®s (v2.x) */
.button-primary {
  background-color: var(--primary-600);
  color: var(--primary-foreground);
}
```

##### 2. Props des composants

```tsx
// Avant (v1.x)
<Button type="primary" loading={true}>
  Enregistrer
</Button>

// Apr√®s (v2.x)
<Button variant="primary" loading>
  Enregistrer
</Button>
```

##### 3. Imports

```typescript
// Avant (v1.x)
import { Button, Input } from '@nova/components';

// Apr√®s (v2.x)
import { Button } from '@nova/design-system/button';
import { FormInput } from '@nova/design-system/form';
```

### Checklist de migration

- [ ] Installer @nova/design-system v2.x
- [ ] Mettre √† jour les imports
- [ ] Migrer les tokens CSS
- [ ] Tester l'accessibilit√©
- [ ] Valider les performances
- [ ] Mettre √† jour la documentation
- [ ] Former l'√©quipe

## FAQ

### Questions g√©n√©rales

**Q: NOVA est-il compatible avec React 18 ?**
R: Oui, NOVA est enti√®rement compatible avec React 18 et utilise les derni√®res fonctionnalit√©s comme Concurrent Features.

**Q: Puis-je utiliser NOVA avec Vue.js ou Angular ?**
R: NOVA est actuellement d√©velopp√© pour React. Une version Web Components est en d√©veloppement pour les autres frameworks.

**Q: NOVA respecte-t-il le RGPD ?**
R: Oui, NOVA est con√ßu pour √™tre conforme au RGPD. Aucune donn√©e n'est collect√©e par d√©faut par les composants.

### Accessibilit√©

**Q: NOVA est-il compatible avec tous les lecteurs d'√©cran ?**
R: NOVA est test√© avec NVDA, JAWS, VoiceOver et TalkBack. La compatibilit√© est assur√©e pour 95% des cas d'usage.

**Q: Comment tester l'accessibilit√© de mon impl√©mentation ?**
R: Utilisez les tests automatis√©s fournis (`npm run test:a11y`) et testez manuellement avec un lecteur d'√©cran.

**Q: NOVA supporte-t-il le mode contraste √©lev√© ?**
R: Oui, tous les composants sont test√©s en mode contraste √©lev√© Windows et macOS.

### Performance

**Q: Quelle est la taille du bundle NOVA ?**
R: Le bundle complet fait ~45KB gzipp√©. Avec tree shaking, vous pouvez r√©duire √† ~15KB pour une utilisation basique.

**Q: NOVA est-il optimis√© pour les mobiles ?**
R: Oui, NOVA est mobile-first avec des optimisations sp√©cifiques (touch targets, interactions tactiles, etc.).

**Q: Comment optimiser les performances avec NOVA ?**
R: Utilisez le lazy loading, la virtualisation pour les grandes listes, et importez seulement les composants n√©cessaires.

### D√©veloppement

**Q: Comment contribuer √† NOVA ?**
R: Consultez le guide de contribution sur GitHub : [github.com/nova/design-system/CONTRIBUTING.md](https://github.com/nova/design-system/CONTRIBUTING.md)

**Q: NOVA supporte-t-il TypeScript ?**
R: Oui, NOVA est √©crit en TypeScript avec une typographie compl√®te incluse.

**Q: Comment personnaliser les couleurs NOVA ?**
R: Surchargez les variables CSS dans votre fichier de styles principal :

```css
:root {
  --primary-600: #your-color;
  --primary-foreground: #your-text-color;
}
```

### Contexte m√©dical

**Q: NOVA est-il certifi√© pour l'usage m√©dical ?**
R: NOVA respecte les standards d'accessibilit√© et de s√©curit√©, mais n'est pas un dispositif m√©dical certifi√©. Consultez votre √©quipe juridique pour la conformit√© r√©glementaire.

**Q: Comment NOVA g√®re-t-il les donn√©es sensibles ?**
R: NOVA ne stocke aucune donn√©e. C'est √† l'impl√©menteur de g√©rer la s√©curit√© et le chiffrement des donn√©es m√©dicales.

**Q: NOVA supporte-t-il d'autres langues que le fran√ßais ?**
R: Actuellement, NOVA est optimis√© pour le fran√ßais. Le support multilingue est pr√©vu pour la v3.0.

---

## Support et ressources

- **Documentation** : [nova-design-system.docs](https://nova-design-system.docs)
- **Storybook** : [storybook.nova-design-system.com](https://storybook.nova-design-system.com)
- **GitHub** : [github.com/nova/design-system](https://github.com/nova/design-system)
- **Discord** : [discord.gg/nova-design-system](https://discord.gg/nova-design-system)
- **Email** : design-system@nova.dz

**Version** : 2.0.0  
**Derni√®re mise √† jour** : 16 ao√ªt 2025  
**Auteurs** : √âquipe NOVA Design System